---
import { Image } from "astro:assets";
import Layout from "@/layouts/Layout.astro";
import dental_checkup from '@/assets/images/IMG_4519.JPG';
import beer from '@/assets/images/image 1.png';
import left_arrow from '@/assets/images/Vector.svg';
import right_arrow from '@/assets/images/Vector_right.svg';
const title = "TOP";
const description = "";
const text = "hello";

---

<Layout title={title} , description={description}>

	<main>
	

	<!-- ファーストビューここから -->
	<section id="fv" class="p-fv">
		<h1>早稲田大学<br>
			学生健康増進互助会</h1>
		<p>Waseda Univ. <br>
			Student Health Promotion <br>
			Mutual Aid Association</p>
		<div class="p-fv-carousel">
				<div class="scroll_track">
				  <ul class="scroll_inner">
					<li class="scroll_cont">
					  <img src="" alt="">
					</li>
					<li class="scroll_cont">
					  <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					  <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
					<li class="scroll_cont">
					   <img src="" alt="">
					</li>
				  </ul>
			  </div>
		</div>
	</section>
	<!-- ファーストビューここまで -->

	<!-- newsここから -->
	<section id="news" class="p-news">
		<h2 class="title">News</h2>
		<p>2024.08.18</p>
		<p>早健会のHPを公開しました</p>
		<p>内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容</p>
	</section>
	<!-- ニュースここまで -->

	<!-- アクティビティここから -->
	<section id="activity" class="p-activity">
		<h3>Activity</h3>
		<p>100円朝食</p>
		<p>時間がない、金銭的に厳しいなどの理由から、朝食を抜きがちな大学生に、「朝食を通して、健康になってもらおう！」という趣旨で実施する本イベント。
			近年、毎年6月、2週間に渡り実施。2024年度は6月18日（火）〜 6月21日（金）に大隈ガーデンハウスにて、6月25日（火）〜 6月28日（金）に理工カフェテリアにて7:50~8:45（8:30受付終了、8:45閉店）で開催。</p>
		<p>歯科検診</p>
		<p>毎年、秋学期に4キャンパス（早稲田・西早稲田・戸山・所沢）で実施。当日は検診に合わせ、ブラッシング指導（模型を使った指導）も同時に行われる。受診料無料、事前申込不要。
		</p>
	</section>
	<!-- アクティビティここまで -->

	<!-- エクスペリエンスここから -->
	<section id="experience" class="p-experience">
		<h4>Experience</h4>
		<div>
		<p>企業と関わる経験</p>
		<p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、</p>
		</div>
		<div>
		<p>イベントの企画運営</p>
		<p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、</p>
	</div>
	</section>
	<!-- エクスペリエンスここまで -->

<!-- レポートここから -->
<section id="report" class="p-report">
     <div class="title">
          <h2>Report</h2>
          <p>活動報告</p>
     </div>
     <div class="slider">
          <span id="prevBtn" class="arrow-left">
               
          </span>
          <ul class="slider-list">
               <li class="slider-item">
                    <figure>
                         <Image class="image-blur" src={dental_checkup} alt="歯科検診のイメージ画像" />
                         <Image class="image-small" src={dental_checkup} alt="歯科検診のイメージ画像" />
                    </figure>
                    <div>
                         <time datetime="">2024.08.18</time>
                         <h3>歯科検診レポート1</h3>
                         <p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひか・・・</p>
                         <a href="">続きを読む</a>
                    </div>
               </li>
               <li class="slider-item">
                    <figure>
                         <Image class="image-blur" src={dental_checkup} alt="歯科検診のイメージ画像" />
                         <Image class="image-small" src={dental_checkup} alt="歯科検診のイメージ画像" />
                    </figure>
                    <div>
                         <time datetime="">2024.08.18</time>
                         <h3>歯科検診レポート2</h3>
                         <p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひか・・・</p>
                         <a href="">続きを読む</a>
                    </div>
               </li>
               <li class="slider-item">
                    <figure>
                         <Image class="image-blur" src={dental_checkup} alt="歯科検診のイメージ画像" />
                         <Image class="image-small" src={dental_checkup} alt="歯科検診のイメージ画像" />
                    </figure>
                    <div>
                         <time datetime="">2024.08.18</time>
                         <h3>歯科検診レポート3</h3>
                         <p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひか・・・</p>
                         <a href="">続きを読む</a>
                    </div>
               </li>
               <li class="slider-item">
                    <figure>
                         <Image class="image-blur" src={dental_checkup} alt="歯科検診のイメージ画像" />
                         <Image class="image-small" src={dental_checkup} alt="歯科検診のイメージ画像" />
                    </figure>
                    <div>
                         <time datetime="">2024.08.18</time>
                         <h3>歯科検診レポート4</h3>
                         <p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひか・・・</p>
                         <a href="">続きを読む</a>
                    </div>
               </li>
               <li class="slider-item">
                    <figure>
                         <Image class="image-blur" src={dental_checkup} alt="歯科検診のイメージ画像" />
                         <Image class="image-small" src={dental_checkup} alt="歯科検診のイメージ画像" />
                    </figure>
                    <div>
                         <time datetime="">2024.08.18</time>
                         <h3>歯科検診レポート5</h3>
                         <p>あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひかる草の波。あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモリーオ市、郊外のぎらぎらひか・・・</p>
                         <a href="">続きを読む</a>
                    </div>
               </li>
          </ul>
          <span id="nextBtn" class="arrow-right"></span>
     </div>
</section>
<!-- レポートここまで -->

<!-- トピックここから -->
<section id="topic" class="p-topic">
     <div class="title">
          <h2>Topic</h2>
          <p>記事</p>
     </div>
     <div>
          <ul>
               <li>
                    <a>
                         <figure>
                              <Image src={beer} alt="乾杯の写真" />
                         </figure>
                         <div>
                              <span></span>
                              <div>
                                   <h3>飲酒の健康への影響<br>適切なアルコールの摂取量とは？</h3>
                              </div>
                         </div>
                    </a>
                    <div>
                         <time datetime="">2024.08.31</time>
                         <hr>
                         <p>飲酒の健康への影響 適切な摂取量とは？</p>
                    </div>
               </li>
               <li>
                    <a>
                         <figure>
                              <Image src={beer} alt="乾杯の写真" />
                         </figure>
                         <div>
                              <span></span>
                              <div>
                                   <h3>飲酒の健康への影響</h3>
                                   <h3>適切なアルコールの摂取量とは？</h3>
                              </div>
                         </div>
                    </a>
                    <div>
                         <time datetime="">2024.08.31</time>
                         <hr>
                         <p>飲酒の健康への影響 適切な摂取量とは？</p>
                    </div>
               </li>
               <li>
                    <a>
                         <figure>
                              <Image src={beer} alt="乾杯の写真" />
                         </figure>
                         <div>
                              <span></span>
                              <div>
                                   <h3>飲酒の健康への影響</h3>
                                   <h3>適切なアルコールの摂取量とは？</h3>
                              </div>
                         </div>
                    </a>
                    <div>
                         <time datetime="">2024.08.31</time>
                         <hr>
                         <p>飲酒の健康への影響 適切な摂取量とは？</p>
                    </div>
               </li>
               <li>
                    <a>
                         <figure>
                              <Image src={beer} alt="乾杯の写真" />
                         </figure>
                         <div>
                              <span></span>
                              <div>
                                   <h3>飲酒の健康への影響</h3>
                                   <h3>適切なアルコールの摂取量とは？</h3>
                              </div>
                         </div>
                    </a>
                    <div>
                         <time datetime="">2024.08.31</time>
                         <hr>
                         <p>飲酒の健康への影響 適切な摂取量とは？</p>
                    </div>
               </li>
          </ul>
     </div>
</section>
<!-- トピックここまで -->

<!-- ここから -->
<section id="faqs" class="p-faqs">
     <div class="title">
          <h2>FAQs</h2>
          <p>よくある質問</p>
     </div>
     <div class="qa-container">
          <div class="qa-item">
               <div class="question">
                    <span>Q.</span>
                    <span>早健会の会員の文理比を教えてください。</span>
                    <div class="fq-btn">
                         <span class="horizontal"></span>
                         <span class="vertical"></span>
                    </div>
               </div>
               <div class="answer">
                    <span>A.</span>
                    <span>テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト</span>
               </div>
          </div>
          <div class="qa-item">
               <div class="question">
                    <span>Q.</span>
                    <span>早健会の会員の文理比を教えてください。</span>
                    <div class="fq-btn">
                         <span class="horizontal"></span>
                         <span class="vertical"></span>
                    </div>
               </div>
               <div class="answer">
                    <span>A.</span>
                    <span>テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト</span>
               </div>                
          </div>
          <div class="qa-item">
               <div class="question">
                    <span>Q.</span>
                    <span>早健会の会員の文理比を教えてください。</span>
                    <div class="fq-btn">
                         <span class="horizontal"></span>
                         <span class="vertical"></span>
                    </div>
               </div>
               <div class="answer">
                    <span>A.</span>
                    <span>テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト</span>
               </div>                
          </div>
          <div class="qa-item">
               <div class="question">
                    <span>Q.</span>
                    <span>早健会の会員の文理比を教えてください。</span>
                    <div class="fq-btn">
                         <span class="horizontal"></span>
                         <span class="vertical"></span>
                    </div>
               </div>
               <div class="answer">
                    <span>A.</span>
                    <span>テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト</span>
               </div>                
          </div>
     </div>
</section>
<!-- ここまで -->

<!-- コンタクトここから -->
<section id="contact" class="p-contact"></section>
<!-- コンタクトここまで -->
</main>

<!-- フッターここから -->
<footer></footer>
<!-- フッターここまで -->
</Layout>
<script>
const items = Array.from(document.querySelectorAll(".slider-item"));
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const totalItems = items.length;
let currentIndex = 0;
let startX = 0;

// メディアクエリのブレークポイント
const breakpointMobile = window.matchMedia("(max-width: 590px)");

// スライダーを更新する関数
function updateSlider() {
  items.forEach((item) => {
    item.classList.remove("left", "active", "right");
    item.style.display = "none";
  });

  const leftIndex = (currentIndex - 1 + totalItems) % totalItems;
  const rightIndex = (currentIndex + 1) % totalItems;

  items[leftIndex].classList.add("left");
  items[leftIndex].style.display = "block";
  items[currentIndex].classList.add("active");
  items[currentIndex].style.display = "block";
  items[rightIndex].classList.add("right");
  items[rightIndex].style.display = "block";
}

function updateSlider_Mobile() {
  items.forEach((item) => {
    item.classList.remove("left", "active", "right");
    item.style.display = "none";
  });

  const leftIndex = (currentIndex - 1 + totalItems) % totalItems;
  const rightIndex = (currentIndex + 1) % totalItems;

  items[leftIndex].classList.add("left");
  items[leftIndex].style.display = "none";
  items[currentIndex].classList.add("active");
  items[currentIndex].style.display = "block";
  items[rightIndex].classList.add("right");
  items[rightIndex].style.display = "none";
}

// 初期表示
currentIndex = 0;

// スライダー更新のラッパー関数（モバイルとデスクトップで切り替え）
function responsiveUpdateSlider() {
  if (breakpointMobile.matches) {
    updateSlider_Mobile();
  } else {
    updateSlider();
  }
}
responsiveUpdateSlider();

// ボタンクリックでスライダーを操作
function setupButtonNavigation() {
  nextBtn.addEventListener("click", () => {
    currentIndex = (currentIndex + 1) % totalItems;
    responsiveUpdateSlider();
  });

  prevBtn.addEventListener("click", () => {
    currentIndex = (currentIndex - 1 + totalItems) % totalItems;
    responsiveUpdateSlider();
  });
}

// フリック操作でスライダーを操作
function setupSwipeNavigation() {
  const sliderContainer = document.querySelector(".slider-container"); // スライダー全体の親要素

  sliderContainer.addEventListener("touchstart", (e) => {
    startX = e.touches[0].clientX; // タッチの開始位置を記録
  });

  sliderContainer.addEventListener("touchend", (e) => {
    const endX = e.changedTouches[0].clientX; // タッチの終了位置を記録
    const diffX = endX - startX;

    if (diffX > 50) {
      // 右フリック: 前のアイテム
      currentIndex = (currentIndex - 1 + totalItems) % totalItems;
      responsiveUpdateSlider();
    } else if (diffX < -50) {
      // 左フリック: 次のアイテム
      currentIndex = (currentIndex + 1) % totalItems;
      responsiveUpdateSlider();
    }
  });
}

// メディアクエリに基づいてイベントリスナーを切り替える
function setupResponsiveNavigation() {
  if (breakpointMobile.matches) {
    // モバイルサイズの場合
    setupSwipeNavigation();
  } else {
    // デスクトップサイズの場合
    setupButtonNavigation();
  }
}

// ページがロードされたらイベントを設定
document.addEventListener("DOMContentLoaded", () => {
  setupResponsiveNavigation();
});

// ウィンドウサイズ変更時に再設定
window.addEventListener("resize", () => {
  // メディアクエリの状態を再確認
  responsiveUpdateSlider();
  setupResponsiveNavigation();
});



document.querySelectorAll('.qa-item').forEach(item => {
const question = item.querySelector('.question');
const answer = item.querySelector('.answer');
const vertical = item.querySelector('.vertical')

question.addEventListener('click', () => {
     item.classList.toggle('open');

     if (item.classList.contains('open')) {
          answer.style.display = 'flex';
          vertical.style.display = 'none';
     } else {
          answer.style.display = 'none';
          vertical.style.display = 'flex';
     }
});
});
document.addEventListener("DOMContentLoaded", () => {
     const sliderItems = document.querySelectorAll(".slider-item div p");
     const readMoreLinks = document.querySelectorAll(".slider-item div a");

     sliderItems.forEach((item, index) => {
          const maxLength = 125;
          const fullText = item.textContent.trim();

          if (fullText.length > maxLength) {
               const truncatedText = fullText.substring(0, maxLength);
               item.innerHTML = `${truncatedText}<span>・・・</span>`;

               if (readMoreLinks[index]) {
                    readMoreLinks[index].style.display = 'block';
               }
          }
     });
});

document.addEventListener('DOMContentLoaded', () => {
  const listItems = document.querySelectorAll('.p-topic ul li');
  const totalItems = listItems.length;
  let currentIndex = 0; // 初期表示のインデックス
  let startX = 0;

  // スマホサイズかどうかを判定
  function isMobileSize() {
    return window.innerWidth <= 590; // ここでスマホサイズの条件を指定
  }

  // 初期表示の更新関数
  function updateDisplay() {
    listItems.forEach((item, index) => {
      if (index === currentIndex) {
        item.classList.add('active');
        item.style.display = 'block'; // 表示
      } else {
        item.classList.remove('active');
        item.style.display = 'none'; // 非表示
      }
    });
  }

  // イベントリスナーのセットアップ
  function setupSwipeEvents() {
    const ulElement = document.querySelector('.p-topic ul');

    ulElement.addEventListener('touchstart', (e) => {
      if (!isMobileSize()) return; // スマホサイズ以外では動作させない
      startX = e.touches[0].clientX; // タッチの開始位置を取得
    });

    ulElement.addEventListener('touchend', (e) => {
      if (!isMobileSize()) return; // スマホサイズ以外では動作させない
      const endX = e.changedTouches[0].clientX;
      const diffX = endX - startX;

      if (diffX > 50) {
        // 右スワイプ：前のアイテムを表示
        currentIndex = (currentIndex - 1 + totalItems) % totalItems;
      } else if (diffX < -50) {
        // 左スワイプ：次のアイテムを表示
        currentIndex = (currentIndex + 1) % totalItems;
      }

      updateDisplay(); // 表示を更新
    });
  }

  // 初期化
  if (isMobileSize()) {
    updateDisplay();
    setupSwipeEvents();
  }

  // ウィンドウサイズ変更時に再判定
  window.addEventListener('resize', () => {
    if (isMobileSize()) {
      updateDisplay(); // スマホサイズなら表示を更新
    } else {
      // スマホサイズ以外では全てのアイテムを表示
      listItems.forEach((item) => {
        item.style.display = 'block';
        item.classList.remove('visible');
      });
    }
  });
});



</script>
</Layout>
